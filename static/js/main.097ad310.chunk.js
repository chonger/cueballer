(this.webpackJsonpcueballer=this.webpackJsonpcueballer||[]).push([[0],{67:function(e,n,t){},68:function(e,n,t){},69:function(e,n,t){},80:function(e,n,t){"use strict";t.r(n);var o=t(0),a=t.n(o),s=t(11),r=t.n(s),i=(t(67),t.p,t(68),t(55)),h=t(35),l=t(14),c=t(46),d=t(119),u=(t(69),t(117)),f=t(54),m=t.n(f),y=t(120),b=t(121),p=t(118),w=t(122),g=t(7),v=function(e){var n=e.text,t=e.onChange;return Object(g.jsx)(d.a,{className:"small-text-input",id:"cues",autoComplete:"off",placeholder:"empty",value:n,multiline:!0,rows:30,variant:"outlined",fullWidth:!0,onChange:function(e){return t(e.target.value)}})},j=function(){var e=Object(o.useState)({text:"T: Comedy of Errors\n\nNS: Act 1, Scene 1\n\nSL: A hall in Duke Solinus\u2019s Palace.\n\nSD: Enter the Duke of Ephesus with Egeon the merchant of Syracuse, Jailer with Officers, and other Attendants.\n\nEGEON\nProceed, Solinus, to procure my fall,\nAnd by the doom of death end woes and all.\n\nSOLINUS, DUKE OF EPHESUS\nMerchant of Syracuse, plead no more.\nI am not partial to infringe our laws;\nThe enmity and discord which of late\nSprung from the rancorous outrage of your Duke\nTo merchants, our well-dealing countrymen,\nWho, wanting guilders to redeem their lives,\nHave seal\u2019d his rigorous statutes with their bloods,\nExcludes all pity from our threat\u2019ning looks:\nFor since the mortal and intestine jars\n\u2019Twixt thy seditious countrymen and us,\nIt hath in solemn synods been decreed,\nBoth by the Syracusians and ourselves,\nTo admit no traffic to our adverse towns:\nNay more, if any born at Ephesus be seen\nAt any Syracusian marts and fairs;\nAgain, if any Syracusian born\nCome to the bay of Ephesus, he dies,\nHis goods confiscate to the Duke\u2019s dispose,\nUnless a thousand marks be levied\nTo quit the penalty and to ransom him.\nThy substance, valued at the highest rate,\nCannot amount unto a hundred marks,\nTherefore by law thou art condemn\u2019d to die.\n\nEGEON\nYet this my comfort, when your words are done,\nMy woes end likewise with the evening sun.\n\nSOLINUS, DUKE OF EPHESUS\nWell, Syracusian; say in brief the cause\nWhy thou departedst from thy native home,\nAnd for what cause thou cam\u2019st to Ephesus.\n\nEGEON\nA heavier task could not have been impos\u2019d\nThan I to speak my griefs unspeakable:\nYet that the world may witness that my end\nWas wrought by nature, not by vile offense,\nI\u2019ll utter what my sorrow gives me leave.\nIn Syracuse was I born, and wed\nUnto a woman, happy but for me,\nAnd by me, had not our hap been bad:\nWith her I liv\u2019d in joy; our wealth increas\u2019d\nBy prosperous voyages I often made\nTo Epidamium, till my factor\u2019s death,\nAnd the great care of goods at random left,\nDrew me from kind embracements of my spouse;\nFrom whom my absence was not six months old\nBefore herself (almost at fainting under\nThe pleasing punishment that women bear)\nHad made provision for her following me,\nAnd soon, and safe, arrived where I was.\nThere had she not been long but she became\nA joyful mother of two goodly sons:\nAnd, which was strange, the one so like the other\nAs could not be distinguish\u2019d but by names.\nThat very hour, and in the self-same inn,\nA mean woman was delivered\nOf such a burden male, twins both alike.\nThose, for their parents were exceeding poor,\nI bought, and brought up to attend my sons.\nMy wife, not meanly proud of two such boys,\nMade daily motions for our home return:\nUnwilling I agreed. Alas! Too soon\nWe came aboard.\nA league from Epidamium had we sail\u2019d\nBefore the always-wind-obeying deep\nGave any tragic instance of our harm:\nBut longer did we not retain much hope;\nFor what obscured light the heavens did grant\nDid but convey unto our fearful minds\nA doubtful warrant of immediate death,\nWhich though myself would gladly have embrac\u2019d,\nYet the incessant weepings of my wife,\nWeeping before for what she saw must come,\nAnd piteous plainings of the pretty babes,\nThat mourn\u2019d for fashion, ignorant what to fear,\nForc\u2019d me to seek delays for them and me.\nAnd this it was (for other means was none):\nThe sailors sought for safety by our boat,\nAnd left the ship, then sinking-ripe, to us.\nMy wife, more careful for the latter-born,\nHad fast\u2019ned him unto a small spare mast,\nSuch as sea-faring men provide for storms;\nTo him one of the other twins was bound,\nWhilst I had been like heedful of the other.\nThe children thus dispos\u2019d, my wife and I,\nFixing our eyes on whom our care was fix\u2019d,\nFast\u2019ned ourselves at either end the mast,\nAnd floating straight, obedient to the stream,\nWas carried towards Corinth, as we thought.\nAt length the sun, gazing upon the earth,\nDispers\u2019d those vapors that offended us,\nAnd by the benefit of his wished light\nThe seas wax\u2019d calm, and we discovered\nTwo ships from far, making amain to us,\nOf Corinth that, of Epidaurus this.\nBut ere they came\u2014O, let me say no more!\nGather the sequel by that went before.\n\nSOLINUS, DUKE OF EPHESUS\nNay, forward, old man, do not break off so,\nFor we may pity, though not pardon thee.\n\nEGEON\nO, had the gods done so, I had not now\nWorthily term\u2019d them merciless to us!\nFor ere the ships could meet by twice five leagues,\nWe were encount\u2019red by a mighty rock,\nWhich being violently borne upon,\nOur helpful ship was splitted in the midst;\nSo that, in this unjust divorce of us,\nFortune had left to both of us alike\nWhat to delight in, what to sorrow for.\nHer part, poor soul! Seeming as burdened\nWith lesser weight, but not with lesser woe,\nWas carried with more speed before the wind,\nAnd in our sight they three were taken up\nBy fishermen of Corinth, as we thought.\nAt length, another ship had seiz\u2019d on us,\nAnd knowing whom it was their hap to save,\nGave healthful welcome to their shipwrack\u2019d guests,\nAnd would have reft the fishers of their prey,\nHad not their bark been very slow of sail;\nAnd therefore homeward did they bend their course.\nThus have you heard me sever\u2019d from my bliss,\nThat by misfortunes was my life prolong\u2019d,\nTo tell sad stories of my own mishaps.\n\nSOLINUS, DUKE OF EPHESUS\nAnd for the sake of them thou sorrowest for,\nDo me the favor to dilate at full\nWhat have befall\u2019n of them and thee till now.\n\nEGEON\nMy youngest boy, and yet my eldest care,\nAt eighteen years became inquisitive\nAfter his brother; and importun\u2019d me\nThat his attendant\u2014so his case was like,\nReft of his brother, but retain\u2019d his name\u2014\nMight bear him company in the quest of him:\nWhom whilst I labored of a love to see,\nI hazarded the loss of whom I lov\u2019d.\nFive summers have I spent in farthest Greece,\nRoaming clean through the bounds of Asia,\nAnd coasting homeward, came to Ephesus;\nHopeless to find, yet loath to leave unsought\nOr that, or any place that harbors men.\nBut here must end the story of my life,\nAnd happy were I in my timely death,\nCould all my travels warrant me they live.\n\nSOLINUS, DUKE OF EPHESUS\nHapless Egeon, whom the fates have mark\u2019d\nTo bear the extremity of dire mishap!\nNow trust me, were it not against our laws,\nAgainst my crown, my oath, my dignity,\nWhich princes, would they, may not disannul,\nMy soul should sue as advocate for thee:\nBut though thou art adjudged to the death,\nAnd passed sentence may not be recall\u2019d\nBut to our honor\u2019s great disparagement,\nYet will I favor thee in what I can;\nTherefore, merchant, I\u2019ll limit thee this day\nTo seek thy health by beneficial help.\nTry all the friends thou hast in Ephesus;\nBeg thou, or borrow, to make up the sum,\nAnd live: if no, then thou art doom\u2019d to die.\nJailer, take him to thy custody.\n\nJAILER\nI will, my lord.\n\nEGEON\nHopeless and helpless doth Egeon wend,\nBut to procrastinate his lifeless end.\n\nSD: Exeunt.\n",cueScript:"",actors:[],parsedScript:null,nWordsInCueScript:5,nLettersInLine:70}),n=Object(c.a)(e,2),t=n[0],a=n[1],s=Object(o.useState)(new Set),r=Object(c.a)(s,2),d=r[0],f=r[1],j=function(e){var n=Math.floor((t.nLettersInLine-e.length)/2);if(n<0)return e;console.log("EN",{s:e,len:n});var o=new Array(n).fill(" ").join(""),a=o.length%2==0?"":" ";return"".concat(o).concat(e).concat(o).concat(a)},O=function(){if(null!=t.parsedScript){var e,n=new Set(t.actors.filter((function(e,n){return d.has(n)}))),o=j(t.parsedScript.title+" - "+Array.from(n).join(" / "))+"\n\n",s=Object(h.a)(t.parsedScript.scenes);try{for(s.s();!(e=s.n()).done;){var r,i=e.value,c=!1,u=Object(h.a)(i.content);try{for(u.s();!(r=u.n()).done;){var f=r.value;"line"==f.type&&n.has(f.actor)&&(c=!0)}}catch(S){u.e(S)}finally{u.f()}if(c){o+="\n"+j(i.sceneName.trim())+"\n";var m,y=function(e){return n=e.text.trim().split(" ").slice(-t.nWordsInCueScript).join(" ").replaceAll("\n"," ").replaceAll("\r"," "),"".concat(new Array(t.nLettersInLine-n.length).fill("-").join("")).concat(n);var n},b="",p="",w="",g="",v="",O=Object(h.a)(i.content);try{for(O.s();!(m=O.n()).done;){var x=m.value;console.log("SOFAR",{c:x,cscript:o,cue:b,myLine:w,lastActor:v,curActors:n}),"stage direction"===x.type?g+="\n"+j("[".concat(x.text,"]").trim())+"\n":"line"==x.type?(x.actor===v?(g.length>0&&(w+=g),w+=x.text.trim(),p=y(x)):(v&&w.length>0&&(o+=b.trim()+"\n"+w+"\n"),w="",v=x.actor,b=p,n.has(x.actor)&&(w+=x.text.trim()),p=y(x)),g=""):console.log("NOTPROCESSING",x)}}catch(S){O.e(S)}finally{O.f()}w.length>0&&(o+=b.trim()+"\n"+w+"\n")}}}catch(S){s.e(S)}finally{s.f()}console.log("UPDATING CUE SCRIPT"),o!=t.cueScript&&a((function(e){return Object(l.a)(Object(l.a)({},e),{},{cueScript:o})}))}},x=function(e){return function(n){if(n.target.checked&&!d.has(e)){var t=d;t.add(e),f(t),O()}else if(!n.target.checked&&d.has(e)){var o=d;o.delete(e),f(o),O()}}},S=t.actors.map((function(e,n){return Object(g.jsx)(b.a,{control:Object(g.jsx)(y.a,{onChange:x(n)}),label:e})}));return Object(o.useEffect)(O,[t]),Object(g.jsxs)("div",{className:"main-container flexcols",children:[Object(g.jsxs)("div",{className:"full-script flexrows flexkid",children:[Object(g.jsx)("div",{className:"script-header ",children:Object(g.jsx)("h2",{children:"Paste your script here."})}),Object(g.jsx)("div",{className:"script-editor ",children:Object(g.jsx)(v,{text:t.text,onChange:function(e){return a((function(n){return Object(l.a)(Object(l.a)({},n),{},{text:e})}))}})}),Object(g.jsx)("div",{className:"script-buttons flexcols",children:Object(g.jsx)(u.a,{variant:"outlined",size:"large",color:"primary",className:"footer-button",endIcon:Object(g.jsx)(m.a,{}),onClick:function(){return function(){var e,n=t.text.split("\n"),o={scenes:[]},s=null,r=new Set,c=!1,d=Object(h.a)(n);try{for(d.s();!(e=d.n()).done;){var u=e.value,f=c;if(c=!1,console.log("READING LINE ".concat(u)),0!==u.indexOf("T:"))if(0!==u.indexOf("NS:"))if(0!==u.indexOf("SL:"))if(0!==u.indexOf("SD:"))if(0!==u.trim().length){var m=u.replaceAll("and","").trim();if(m.length>0&&m.toUpperCase()===m)s.content.push({type:"line",actor:u,text:""}),r.add(u);else{if(f){console.log("GOT IT!");var y=s.content.slice(-2)[0].actor;s.content.push({type:"line",actor:y,text:""})}s.content.slice(-1)[0].text+="\n"+u}}else console.log(s),s&&s.content.length>0&&"stage direction"==s.content.slice(-1)[0].type&&(console.log("HIT"),c=!0);else s.content.push({type:"stage direction",text:u.slice(3)});else s.location=u.slice(3);else s={sceneName:u.slice(3),content:[]},o.scenes.push(s);else o.title=u.slice(2)}}catch(b){d.e(b)}finally{d.f()}console.log("PARSED SCRIPT",o),a((function(e){return Object(l.a)(Object(l.a)({},e),{},{parsedScript:o,actors:Object(i.a)(r)})}))}()},children:"Parse the Script"})})]}),t.actors.length>0&&Object(g.jsxs)("div",{className:"flexcols flexkid",children:[Object(g.jsxs)("div",{className:"cue-selector flexrows",children:[Object(g.jsx)("div",{className:"select-header ",children:Object(g.jsx)("h2",{children:"Choose the characters to use."})}),Object(g.jsx)(p.a,{children:S}),Object(g.jsx)("div",{children:Object(g.jsx)("h2",{children:"# of words in cue"})}),Object(g.jsx)(w.a,{"aria-label":"n words in cue",defaultValue:5,valueLabelDisplay:"auto",step:1,marks:!0,min:1,max:8,onChangeCommitted:function(e,n){a(Object(l.a)(Object(l.a)({},t),{},{nWordsInCueScript:n}))}}),Object(g.jsx)("div",{children:Object(g.jsx)("h2",{children:"# of letters in a line"})}),Object(g.jsx)(w.a,{"aria-label":"line length",defaultValue:70,valueLabelDisplay:"auto",step:1,marks:!0,min:30,max:100,onChangeCommitted:function(e,n){a(Object(l.a)(Object(l.a)({},t),{},{nLettersInLine:n}))}})]}),Object(g.jsx)("div",{className:"cue-script flexrows flexkid",children:Object(g.jsx)("div",{className:"script-buttons flexcols flexkid",children:Object(g.jsx)(v,{text:t.cueScript,onChange:function(e){return a((function(n){return Object(l.a)(Object(l.a)({},n),{},{cueScript:e})}))}})})})]})]})};var O=function(){return Object(g.jsx)(j,{})},x=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,123)).then((function(n){var t=n.getCLS,o=n.getFID,a=n.getFCP,s=n.getLCP,r=n.getTTFB;t(e),o(e),a(e),s(e),r(e)}))};r.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(O,{})}),document.getElementById("root")),x()}},[[80,1,2]]]);
//# sourceMappingURL=main.097ad310.chunk.js.map